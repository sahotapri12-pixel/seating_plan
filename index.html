<script>
  const totalRows = 9; // 45 seats / 5 seats per row
  const seatsPerRow = { left: 2, right: 3 };
  const seatingDiv = document.getElementById("seating");
  let selected = [];

  // Generate first 9 rows (2 seats left + aisle + 3 seats right)
  for (let r = 1; r <= totalRows; r++) {
    let rowDiv = document.createElement("div");
    rowDiv.className = "row";

    // Left side seats
    for (let s = 1; s <= seatsPerRow.left; s++) {
      let seat = createSeat(`R${r}L${s}`);
      rowDiv.appendChild(seat);
    }

    // Gap (aisle)
    let gap = document.createElement("div");
    gap.className = "gap";
    rowDiv.appendChild(gap);

    // Right side seats
    for (let s = 1; s <= seatsPerRow.right; s++) {
      let seat = createSeat(`R${r}R${s}`);
      rowDiv.appendChild(seat);
    }

    seatingDiv.appendChild(rowDiv);
  }

  // Add last row with 6 seats (no aisle)
  let lastRowDiv = document.createElement("div");
  lastRowDiv.className = "row";
  for (let s = 1; s <= 6; s++) {
    let seat = createSeat(`R${totalRows + 1}S${s}`);
    lastRowDiv.appendChild(seat);
  }
  seatingDiv.appendChild(lastRowDiv);

  function createSeat(id) {
    let seat = document.createElement("div");
    seat.className = "seat";
    seat.innerText = id;
    seat.onclick = () => toggleSeat(id, seat);
    return seat;
  }

  function toggleSeat(id, seatElement) {
    if (seatElement.classList.contains("booked")) return;
    if (seatElement.classList.contains("selected")) {
      seatElement.classList.remove("selected");
      selected = selected.filter(s => s !== id);
    } else {
      seatElement.classList.add("selected");
      selected.push(id);
    }
    document.getElementById("selectedSeats").innerText =
      selected.length > 0 ? selected.join(", ") : "None";
  }
</script>

